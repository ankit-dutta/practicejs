<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    


    <script>

const posts = [
    {title: 'post one', body: 'this is post one', createdAt: new Date().getTime},
    {title: 'post two', body: 'this is post two', createdAt: new Date().getTime}
]   
let intervalId = 0;

function getPost(){

   clearInterval(intervalId)
    intervalId = setInterval(()=> {
        
        let output = ''
        posts.forEach((post,i)=>{
            output += `<li>${post.title} created ${(new Date().getTime() - posts[i].createdAt) / 1000} seconds ago</li>`
        })
        document.body.innerHTML = output
        // console.log(output)
    },1000)
}

function createPost(post){
    return new Promise((resolve, reject)=>{

        setTimeout(() => {

        posts.push({...post, createdAt: new Date().getTime()});
        console.log(post)
        const error = false;

        if(!error){
        resolve()
        }else{
        reject('Error !!!');
        }

        }, 2000)

    })
   
}

// function deletepost(post){
    

//     return new Promise((resolve,reject)=> {
        
//     setTimeout(()=>{
//         if(posts.length > 0){
//             resolve(posts.pop())
//         } else {
//             reject('Array is empty')
//         }
//         },1000)
    
       
//     })
// }

// function creatFourtPost(post, callback){
//     setTimeout(() => {

//         posts.push({...post, createdAt: new Date().getTime()});

//         callback()

//     }, 4000);
// }

// getPost()

// createPost({title:"post Three", body:"this is post three"})
// .then(getpost).catch(err => console.log(err))


// createPost({title:"post four", body:"this is post four"})

// creatFourtPost({title:"post Four", body:"this is post four"}, getPost)
// creatFourtPost({title:"post five", body:"this is post five"},getPost)

//promis.all

const promise1 = Promise.resolve('Hello World');
const promise2 = 10;
const promise3 = new Promise((resolve, reject) => 
setTimeout(resolve, 2000 , 'goodnye'))

Promise.all([promise1, promise2, promise3])
.then(values => console.log(values +"promise all"))

    </script>
</body>
</html>